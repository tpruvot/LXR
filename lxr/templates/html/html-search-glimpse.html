<!--$Id: html-search-glimpse.html,v 1.5 2013/09/04 15:22:42 ajlittoz Exp $ -->

<!--				html-search-glimpse.html
		A template for free-text search with glimpse
		and display of the results	-->

<!-- ajlittoz <ajlittoz@users.sf.net>	-->

<!--
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
-->
<h1>Free-text search with Glimpse</h1>
<p>
Type a string to find:
<br>1) all filenames matching the filter (top input field only),
<br>2) all occurrences of the string across all files (bottom input field only),
<br>3) the occurrences of the string in the files matching the filter (both input fields).
<br>
<br>Matches are case-insensitive unless you check the box below.
<br>To use full-fledged Perl regex in the filename filter, check the other box below.
<br>Files ending in ",v" (CVS internal) or "~" (editor backup) are excluded from the search.
</p>

<form method="get" action="$varbtnaction">
$variables{<input type="hidden" name="$variable" value="$value">
}$urlargs{               <input type="hidden" name="$urlvar" value="$urlval">
}	<table>
		<tr>
			<td>
				<p><b>Files named:</b></p>
			</td>
			<td>
					<input	type="text"
							name="_filestring"
							value="$filetext_escaped"
							size="50"
					>
			</td>
			<td>
	&nbsp;&nbsp;&nbsp;&nbsp;
				<label>
					<input	type="checkbox"
							name="_advanced"
							$advancedchecked
							value="1"
					>
	Advanced (allows usage of
	<a href="http://perldoc.perl.org/perlrequick.html" target="_blank">perl regex</a>)
				</label>
			</td>
		</tr>
		<tr>
			<td>
				<p><b>Or containing:</b></p>
			</td>
			<td>
				<input id="focus" type="text" name="_string" value="$searchtext_escaped" size="50">
			</td>
		</tr>
		<tr>
			<td></td>
			<td colspan=2>
Characters ^ $ \ [ ] ( ) | , ; ~ have special meaning for Glimpse
and can be used for building simple regex.
			</td>
		</tr>
		<tr>
			<td></td>
			<td>
				<label>
					<input	type="checkbox"
							name="_casesensitive"
							$casesensitivechecked
							value="1"
					>
	Case-sensitive
				</label>
			</td>
			<td>
	&nbsp;&nbsp;&nbsp;&nbsp;
				<input type="submit" value="Search">
			</td>
		</tr>
	</table>
    <br>
</form>
<p>
	Powered by <a href="http://webglimpse.net" target="_blank">Glimpse</a>.
	(<a href="http://webglimpse.net/docs/tips.html">Tips for search syntax.</a>)
</p>
<hr>
<p>
	$maxhits_message
	$resultcount occurences found.
</p>
   
<h2>Results for <span class="searchident">$searchtext</span></h2>

	<table class="searchref">
		<thead>
			<tr>
				<th class="searchfile">File</th>
				<th class="searchline">Line</th>
				<th class="searchtext">Text</th>
			</tr>
		</thead>
		<tbody>
$results{			<tr>
				<td class="$tdfile $searchinvalid">$fileonce</td>
				<td class="searchline $searchinvalid">$line</td>
				<td class="searchtext">$text</td>
			</tr>
}		</tbody>
	</table>
